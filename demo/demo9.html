<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>膨胀腐蚀卷积计算</title>
</head>

<body>
  <img id="img1" src="../img/img-1.png" alt="">
  <img id="img2" src="../img/img-2.png" alt="">
  <img id="kernel" src="../img/kernel.png" alt="">
  <canvas id="dilate"></canvas>
  <canvas id="erode"></canvas>
  <script src="../lib/opencv.js" type="text/javascript"></script>
  <script src="./tool.js"></script>
  <script>
    window.onload = function () {
      var $img1 = document.querySelector('#img1');
      var img1 = cv.imread($img1)

      var $img2 = document.querySelector('#img2');
      var img2 = cv.imread($img2)

      var $kernel = document.querySelector('#kernel');
      var kernel = cv.imread($kernel);

      var d0 = window.performance.now();
      var dilate = selfDilate(img1, kernel);
      var d1 = window.performance.now();
      console.log('dilate ' + (d1 - d0) + 'ms');
      cv.imshow('dilate', dilate);

      var erode = selfErode(img2, kernel);
      cv.imshow('erode', erode);
    }
  </script>
</body>

</html>